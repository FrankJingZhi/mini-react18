## fiber 架构介绍

1. 什么是 fiber 架构
   fiber 架构是 React 为了解决性能问题 和 提升调度能力而引入的一种新的内部实现机制。
   它主要通过重新组织渲染过程，使 React 可以更有效的执行渲染任务

2. 为什么要使用 fiber 架构
   原始版本的 dom diff 算法是利用了递归处理的，如果比对的内容非常多，会阻塞页面的渲染，导致页面卡顿；
   fiber 架构是用来解决这个问题的，它可以将任务进行切片，等浏览器空闲时一个个执行，不阻塞页面渲染

3. fiber 是什么
   本质是一个对象，用来关联虚拟 dom 和 dom

   - 原始版本：虚拟 dom -> dom -> 页面
   - 18 版本：虚拟 dom -> fiber 树 -> dom -> 页面

4. 双缓冲策略
   前缓冲区（显示完整的渲染帧）
   后缓冲区（正在绘制的渲染帧）

   当前渲染树
   工作进程树
   提交阶段

5. 工作循环（work loop）
   React 内部处理更新和渲染任务的主要过程

   - 协调：负责计算新的组件状态和虚拟 dom。拆分成较小的工作单元。
   - 提交：负责将新的虚拟 dom 应用到 dom 上

6. 并发模式
   任务切片之后，可以独立运行
